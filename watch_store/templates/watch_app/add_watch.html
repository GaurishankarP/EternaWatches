{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
<title>ADD WATCH</title>
{% endblock %}

{% block content %}
<style>
    body {
        background:
            linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)),
            url('https://cdn.prod.website-files.com/66827949c7b425e60255a484/67750e77778a05dda84cf763_67750e75a69ea8678c4969d0_lastImage.png')
            no-repeat center center/cover;
        min-height: 100vh;
        overflow-x: hidden;
    }

    /* Card Animation */
    .card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.25);
        color: #fff;
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        transition: transform 0.4s ease, box-shadow 0.4s ease;
        animation: floatUp 0.9s ease-out;
    }

    @keyframes floatUp {
        from {
            opacity: 0;
            transform: translateY(40px) scale(0.98);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    .card:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 10px 30px rgba(63, 17, 143, 0.5);
    }

    .card-header {
        font-size: 1.6rem;
        letter-spacing: 1px;
        border-top-left-radius: 20px !important;
        border-top-right-radius: 20px !important;
        padding: 1rem;
        animation: fadeDown 1s ease-out;
    }

    @keyframes fadeDown {
        from {
            opacity: 0;
            transform: translateY(-25px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .form-control {
        background-color: rgba(255, 255, 255, 0.15) !important;
        color: #fff !important;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 10px;
        transition: all 0.3s ease;
        animation: fadeInField 0.6s ease forwards;
        opacity: 0;
    }

    .form-control:nth-child(1) { animation-delay: 0.2s; }
    .form-control:nth-child(2) { animation-delay: 0.3s; }
    .form-control:nth-child(3) { animation-delay: 0.4s; }

    @keyframes fadeInField {
        to {
            opacity: 1;
        }
    }

    .form-control:focus {
        background-color: rgba(255, 255, 255, 0.25) !important;
        border-color: #00ffc3 !important;
        box-shadow: 0 0 10px rgba(0, 255, 200, 0.4);
    }

    label {
        color: #fff;
        font-weight: 600;
    }

    .btn-primary {
        background: linear-gradient(90deg, #3f118f, #5e2fc4);
        border: none;
        border-radius: 50px;
        font-weight: 600;
        padding: 0.6rem 1.8rem;
        transition: all 0.3s ease;
        animation: popUp 0.9s ease;
    }

    .btn-primary:hover {
        transform: scale(1.08);
        box-shadow: 0 6px 18px rgba(63, 17, 143, 0.6);
    }

    @keyframes popUp {
        0% {
            opacity: 0;
            transform: scale(0.8);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Alert Animation */
    .auto-dismiss-alert {
        animation: slideInRight 0.6s ease-out;
    }

    @keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(50px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
</style>

<div class="container mt-5 mb-5 d-flex justify-content-center">
    <div class="card w-50">
        <div class="card-header text-white text-center">
            <h2 class="mb-0 fw-bold"><i class="bi bi-plus-circle"></i> Add a New Watch</h2>
        </div>

        <div class="card-body p-4">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form|crispy }}
                <div class="text-center mt-4">
                    <button class="btn btn-primary px-4">
                        <i class="bi bi-check-circle"></i> Add Watch
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Alert messages -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1050;">
    {% for msg in messages %}
        <div class="alert alert-{{ msg.tags }} alert-dismissible fade show shadow auto-dismiss-alert" role="alert">
            {{ msg }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
</div>

<script>
    // Optional: Automatically dismiss alerts
    setTimeout(() => {
        document.querySelectorAll('.auto-dismiss-alert').forEach(alert => {
            alert.classList.remove('show');
        });
    }, 3000);
</script>

{% endblock %}
